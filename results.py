import pandas as pd

# Original data in dictionary format
data = {
    "Niedriger Ankerpreis": {
        "marktwerte": [680000, 650000, 680000, 690000, 700000, 660000, 680000, 680000, 680000, 650000, 690000, 650000, 680000, 680000, 650000, 680000, 650000, 690000, 670000, 685000, 680000, 680000, 650000, 670000, 650000, 690000, 700000, 650000, 690000, 680000],
        "zahlungsbereitschaft": [650000, 600000, 650000, 650000, 650000, 650000, 650000, 650000, 650000, 620000, 690000, 620000, 650000, 650000, 600000, 650000, 600000, 650000, 650000, 650000, 650000, 650000, 600000, 650000, 600000, 670000, 650000, 600000, 680000, 650000]
    },
    "Marktpreis": {
        "marktwerte": [720000, 720000, 720000, 700000, 720000, 720000, 700000, 710000, 700000, 700000, 700000, 720000, 700000, 700000, 720000, 700000, 700000, 710000, 700000, 700000, 700000, 700000, 700000, 690000, 700000, 720000, 700000, 710000, 700000, 700000],
        "zahlungsbereitschaft": [700000, 700000, 700000, 650000, 700000, 700000, 650000, 680000, 650000, 650000, 650000, 700000, 650000, 650000, 700000, 680000, 650000, 700000, 650000, 650000, 650000, 650000, 650000, 650000, 650000, 700000, 650000, 700000, 650000, 650000]
    },
    "Hoher Ankerpreis": {
        "marktwerte": [750000, 750000, 750000, 740000, 750000, 750000, 725000, 750000, 760000, 750000, 740000, 720000, 750000, 750000, 750000, 750000, 750000, 750000, 740000, 750000, 750000, 750000, 750000, 740000, 720000, 750000, 750000, 740000, 750000, 750000],
        "zahlungsbereitschaft": [700000, 700000, 700000, 725000, 720000, 700000, 700000, 700000, 750000, 700000, 700000, 680000, 700000, 725000, 700000, 700000, 700000, 700000, 710000, 700000, 700000, 700000, 720000, 700000, 700000, 700000, 700000, 700000, 700000, 700000]
    }
}

# Transform data into a flat format for the DataFrame
flat_data = {
    "Treatment": [],
    "Market_Value_Estimation": [],
    "Willingness_to_Pay": []
}

for treatment, values in data.items():
    for market_value, willingness in zip(values["marktwerte"], values["zahlungsbereitschaft"]):
        flat_data["Treatment"].append(treatment)
        flat_data["Market_Value_Estimation"].append(market_value)
        flat_data["Willingness_to_Pay"].append(willingness)

# Create DataFrame
df = pd.DataFrame(flat_data)

# Save to CSV
df.to_csv("experiment_data.csv", index=False)
